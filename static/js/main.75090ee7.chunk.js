(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{43:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var o=n(0),c=n(1),s=n(16),a=n.n(s),i=(n(43),n(3)),l=n(14),r=n(4),d=n(15),j=n(8),u=n.n(j),b=n(17),h=n.n(b);n(63),n(64),n(65);var p=function(e){var t=e.handleDeleteNotePopupShow,n=e.id,c=e.setNotes,s=e.sortBy;return Object(o.jsx)("div",{className:"deleteNotePopup",children:Object(o.jsxs)("div",{className:"deleteNotePopup__form",children:[Object(o.jsx)("h3",{className:"deleteNotePopup__title",children:"Do you really want to delete your note?"}),Object(o.jsxs)("div",{className:"deleteNotePopup__btns",children:[Object(o.jsx)("button",{onClick:t,className:"deleteNotePopup__cancelBtn",children:"Cancel"}),Object(o.jsx)("button",{type:"submit",className:"deleteNotePopup__submitBtn",onClick:function(){u()({method:"post",url:"https://nodenoteshk.herokuapp.com/notes/delete",data:{id:n,sortBy:s}}).then((function(e){200===e.status&&(c(e.data),t())}),(function(e){alert(e)}))},children:"Delete"})]})]})})};n(66);var O=function(e){var t=e.handleEditNotePopupShow,n=e.noteId,s=e.noteTitle,a=e.noteContent,l=e.setNotes,r=e.sortBy,d=Object(c.useState)(s),j=Object(i.a)(d,2),b=j[0],h=j[1],p=Object(c.useState)(a),O=Object(i.a)(p,2),m=O[0],f=O[1];return Object(o.jsx)("div",{className:"editNotePopup",children:Object(o.jsxs)("form",{className:"editNotePopup__form",onSubmit:function(e){return e.preventDefault()},children:[Object(o.jsx)("h3",{className:"editNotePopup__title",children:"Edit your note"}),Object(o.jsx)("label",{htmlFor:"title",className:"editNotePopup__label",children:"Edit title of this note."}),Object(o.jsx)("input",{type:"text",name:"title",className:"editNotePopup__noteTitle",value:b,onChange:function(e){return h(e.target.value)},required:!0}),Object(o.jsx)("label",{htmlFor:"content",className:"editNotePopup__label",children:"Edit content of this note."}),Object(o.jsx)("textarea",{name:"content",className:"editNotePopup__noteContent",value:m,onChange:function(e){return f(e.target.value)},required:!0}),Object(o.jsxs)("div",{className:"editNotePopup__btns",children:[Object(o.jsx)("button",{onClick:t,className:"editNotePopup__cancelBtn",children:"Cancel"}),Object(o.jsx)("button",{type:"submit",className:"editNotePopup__submitBtn",onClick:function(){var e=new Date,o=String(e.getDate()).padStart(2,"0")+"."+String(e.getMonth()+1).padStart(2,"0")+"."+e.getFullYear()+" "+String(e.getHours()).padStart(2,"0")+":"+String(e.getMinutes()).padStart(2,"0")+":"+String(e.getSeconds()).padStart(2,"0");u()({method:"post",url:"https://nodenoteshk.herokuapp.com/notes/update",data:{id:n,title:b,content:m,modified:o,sortBy:r}}).then((function(e){200===e.status&&(l(e.data),t())}),(function(e){alert(e)}))},children:"Submit"})]})]})})};n(67),n(68);var m=function(e){var t=e.title,n=e.content,c=e.created,s=e.modified,a=e.version,i=e.isDeleted;return Object(o.jsxs)("tr",{className:"historyItem",children:[Object(o.jsx)("td",{children:a}),Object(o.jsx)("td",{children:t}),Object(o.jsx)("td",{children:n}),Object(o.jsx)("td",{children:c}),Object(o.jsx)("td",{children:s}),void 0!==i&&Object(o.jsx)("td",{children:i.toString()})]})};var f=function(e){var t=e.handleHistoryNotePopupShow,n=e.noteId,s=Object(c.useState)(!1),a=Object(i.a)(s,2),l=a[0],r=a[1];return Object(c.useEffect)((function(){u()({method:"get",url:"https://nodenoteshk.herokuapp.com/notes/getHistory",params:{id:n}}).then((function(e){r(e.data)}),(function(e){alert(e)}))}),[]),Object(o.jsx)("div",{className:"historyNotePopup",children:Object(o.jsxs)("div",{className:"historyNotePopup__form",children:[Object(o.jsx)("button",{onClick:t,className:"historyNotePopup__cancelBtn",children:"X"}),Object(o.jsx)("h3",{className:"historyNotePopup__title",children:"History of this note"}),Object(o.jsx)("div",{className:"historyNotePopup__tableWrapper",children:Object(o.jsxs)("table",{className:"historyNotePopup__table",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Version"}),Object(o.jsx)("th",{children:"Title"}),Object(o.jsx)("th",{children:"Content"}),Object(o.jsx)("th",{children:"Created"}),Object(o.jsx)("th",{children:"Modified"})]})}),Object(o.jsx)("tbody",{children:l&&l.note.map((function(e){return Object(o.jsx)(m,{title:e.title,content:e.content,created:e.created,modified:e.modified,version:e.version},e._id)}))})]})})]})})};var x=function(e){var t=e.title,n=e.content,s=e.created,a=e.modified,l=e.id,r=e.setNotes,d=e.sortBy,j=Object(c.useState)(0),u=Object(i.a)(j,2),b=u[0],h=u[1],m=Object(c.useRef)(null),x=Object(c.useState)(!1),N=Object(i.a)(x,2),_=N[0],v=N[1],y=Object(c.useState)(!1),S=Object(i.a)(y,2),g=S[0],P=S[1],C=Object(c.useState)(!1),B=Object(i.a)(C,2),k=B[0],w=B[1],D=function(){v(!_)},H=function(){P(!g)},I=function(){w(!k)};return Object(c.useEffect)((function(){h(m.current.offsetWidth)}),[window.outerWidth,window.outerHeight]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"boardItem",ref:m,style:{height:b},children:[Object(o.jsx)("h3",{className:"boardItem__title disableScrollbars",children:t}),Object(o.jsxs)("div",{className:"boardItem__dates",children:[Object(o.jsxs)("p",{children:["Created: ",s]}),Object(o.jsxs)("p",{children:["Modified: ",a]})]}),Object(o.jsx)("p",{className:"boardItem__content disableScrollbars",children:n}),Object(o.jsxs)("div",{className:"boardItem__btns",children:[Object(o.jsx)("button",{className:"boardItem__editBtn",onClick:H,children:"edit"}),Object(o.jsx)("button",{className:"boardItem__historyBtn",onClick:I,children:"history"}),Object(o.jsx)("button",{className:"boardItem__deleteBtn",onClick:D,children:"delete"})]})]}),_&&Object(o.jsx)(p,{handleDeleteNotePopupShow:D,id:l,setNotes:r,sortBy:d}),g&&Object(o.jsx)(O,{handleEditNotePopupShow:H,noteId:l,noteTitle:t,noteContent:n,setNotes:r,sortBy:d}),k&&Object(o.jsx)(f,{handleHistoryNotePopupShow:I,noteId:l})]})};h.a.config(),console.log("https://nodenoteshk.herokuapp.com");var N=function(e){var t=e.notes,n=e.setNotes,s=e.sortBy,a=Object(d.a)(),l=Object(c.useState)(!0),r=Object(i.a)(l,2),j=r[0],b=r[1];return Object(c.useEffect)((function(){u()({method:"get",url:"https://nodenoteshk.herokuapp.com/notes/sync",params:{sortBy:s}}).then((function(e){b(!1),n(e.data)}),(function(e){alert(e)}))}),[s]),Object(o.jsxs)("div",{className:"board",style:{minHeight:a},children:[j&&Object(o.jsx)("div",{className:"board__loading",children:"Loading..."}),!1===j&&t.map((function(e,t){return Object(o.jsx)(x,{title:e.note[e.note.length-1].title,content:e.note[e.note.length-1].content,created:e.note[e.note.length-1].created,modified:e.note[e.note.length-1].modified,id:e._id,setNotes:n,sortBy:s},e._id)}))]})},_=n(36),v=n.n(_),y=n(35),S=n.n(y);n(69);var g=function(e){var t=e.handleAddNotePopupShow,n=e.handleMenuClick,c=e.menuClick,s=e.sortBy,a=e.setSortBy;return e.setNotes,Object(o.jsxs)("nav",{className:c?"navbar navbar--menuOpen":"navbar navbar--menuClose",children:[Object(o.jsxs)("div",{className:"navbar__leftBtns",children:[Object(o.jsxs)("select",{className:"navbar__sortBtn",onChange:function(e){return a(e.target.value)},value:s,children:[Object(o.jsx)("option",{value:"titleAsc",children:"Sort by title of note \u25bc"}),Object(o.jsx)("option",{value:"titleDesc",children:"Sort by title of note \u25b2"}),Object(o.jsx)("option",{value:"createdAsc",children:"Sort by date of created \u25bc"}),Object(o.jsx)("option",{value:"createdDesc",children:"Sort by date of created \u25b2"}),Object(o.jsx)("option",{value:"modifiedAsc",children:"Sort by date of modify \u25bc"}),Object(o.jsx)("option",{value:"modifiedDesc",children:"Sort by date of modify \u25b2"})]}),Object(o.jsx)(l.b,{className:"navbar__historyBtn",to:"/nodenotes/fullHistory",children:"Full\xa0History"})]}),Object(o.jsxs)(l.b,{to:"/nodenotes/",className:"navbar__logo",children:[Object(o.jsx)("span",{className:"navbar__logo--violet",children:"Node"}),Object(o.jsx)("span",{className:"navbar__logo--teal",children:"Notes"})]}),Object(o.jsx)("button",{className:"navbar__button",onClick:t,children:"Add a note"}),c?Object(o.jsx)(S.a,{className:"navbar__menuIcon navbar__menuIcon--white",onClick:n}):Object(o.jsx)(v.a,{className:"navbar__menuIcon",onClick:n})]})};n(76);h.a.config();var P=function(e){var t=e.handleAddNotePopupShow,n=e.setNotes,s=e.sortBy,a=Object(c.useState)(""),l=Object(i.a)(a,2),r=l[0],d=l[1],j=Object(c.useState)(""),b=Object(i.a)(j,2),h=b[0],p=b[1];return Object(o.jsx)("div",{className:"addNotePopup",children:Object(o.jsxs)("form",{className:"addNotePopup__form",onSubmit:function(e){return e.preventDefault()},children:[Object(o.jsx)("h3",{className:"addNotePopup__title",children:"Add a new note"}),Object(o.jsx)("label",{htmlFor:"title",className:"addNotePopup__label",children:"Set title for this note."}),Object(o.jsx)("input",{type:"text",name:"title",className:"addNotePopup__noteTitle",value:r,onChange:function(e){return d(e.target.value)},required:!0}),Object(o.jsx)("label",{htmlFor:"content",className:"addNotePopup__label",children:"Type something."}),Object(o.jsx)("textarea",{name:"content",className:"addNotePopup__noteContent",value:h,onChange:function(e){return p(e.target.value)},required:!0}),Object(o.jsxs)("div",{className:"addNotePopup__btns",children:[Object(o.jsx)("button",{onClick:t,className:"addNotePopup__cancelBtn",children:"Cancel"}),Object(o.jsx)("button",{type:"submit",className:"addNotePopup__submitBtn",onClick:function(){if(r&&h){var e=new Date,o=String(e.getDate()).padStart(2,"0")+"."+String(e.getMonth()+1).padStart(2,"0")+"."+e.getFullYear()+" "+String(e.getHours()).padStart(2,"0")+":"+String(e.getMinutes()).padStart(2,"0")+":"+String(e.getSeconds()).padStart(2,"0");u()({method:"post",url:"https://nodenoteshk.herokuapp.com/notes/new",data:{title:r,content:h,created:o,sortBy:s}}).then((function(e){200===e.status&&(n(e.data),t())}),(function(e){alert(e)}))}},children:"Submit"})]})]})})};n(77);var C=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],s=t[1];Object(c.useEffect)((function(){u()({method:"get",url:"https://nodenoteshk.herokuapp.com/notes/getFullHistory"}).then((function(e){s(e.data)}),(function(e){alert(e)}))}),[]);var a=Object(d.a)();return Object(o.jsxs)("div",{className:"fullHistory",style:{minHeight:a},children:[Object(o.jsx)("nav",{className:"fullHistory__navbar",children:Object(o.jsxs)(l.b,{to:"/nodenotes/",className:"navbar__logo",children:[Object(o.jsx)("span",{className:"navbar__logo--violet",children:"Node"}),Object(o.jsx)("span",{className:"navbar__logo--teal",children:"Notes"})]})}),Object(o.jsxs)("table",{className:"fullHistory__table",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Version"}),Object(o.jsx)("th",{children:"Title"}),Object(o.jsx)("th",{children:"Content"}),Object(o.jsx)("th",{children:"Created"}),Object(o.jsx)("th",{children:"Modified"}),Object(o.jsx)("th",{children:"Is deleted?"})]})}),Object(o.jsx)("tbody",{children:n&&n.map((function(e){return e.note.map((function(t){return Object(o.jsx)(m,{title:t.title,content:t.content,created:t.created,modified:t.modified,version:t.version,isDeleted:e.isDeleted},t._id)}))}))})]})]})};n(78);var B=function(e){var t=e.handleAddNotePopupShow,n=e.setMenuClick,c=e.sortBy,s=e.setSortBy;return Object(d.a)(),Object(o.jsxs)("div",{className:"mobileMenu",children:[Object(o.jsxs)("select",{className:"mobileMenu__sortBtn",onChange:function(e){s(e.target.value),n(!1)},value:c,children:[Object(o.jsx)("option",{value:"titleAsc",children:"Sort by title of note \u25bc"}),Object(o.jsx)("option",{value:"titleDesc",children:"Sort by title of note \u25b2"}),Object(o.jsx)("option",{value:"createdAsc",children:"Sort by date of created \u25bc"}),Object(o.jsx)("option",{value:"createdDesc",children:"Sort by date of created \u25b2"}),Object(o.jsx)("option",{value:"modifiedAsc",children:"Sort by date of modify \u25bc"}),Object(o.jsx)("option",{value:"modifiedDesc",children:"Sort by date of modify \u25b2"})]}),Object(o.jsx)(l.b,{className:"mobileMenu__historyBtn",to:"/nodenotes/fullHistory",onClick:function(){n(!1)},children:"Full\xa0History"}),Object(o.jsx)("button",{className:"mobileMenu__button",onClick:t,children:"Add a note"})]})};var k=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)("titleAsc"),d=Object(i.a)(a,2),j=d[0],u=d[1],b=Object(c.useState)(!1),h=Object(i.a)(b,2),p=h[0],O=h[1],m=Object(c.useState)([]),f=Object(i.a)(m,2),x=f[0],_=f[1],v=function(){s(!n),O(!1)};return Object(o.jsxs)(l.a,{children:[n&&Object(o.jsx)(P,{handleAddNotePopupShow:v,setNotes:_,sortBy:j}),p&&Object(o.jsx)(B,{handleAddNotePopupShow:v,sortBy:j,setSortBy:u,setMenuClick:O}),Object(o.jsxs)(r.c,{children:[Object(o.jsxs)(r.a,{path:"/nodenotes/",exact:!0,children:[Object(o.jsx)(g,{handleAddNotePopupShow:v,handleMenuClick:function(){O(!p)},menuClick:p,sortBy:j,setSortBy:u}),Object(o.jsx)(N,{notes:x,setNotes:_,sortBy:j})]}),Object(o.jsx)(r.a,{path:"/nodenotes/fullHistory",children:Object(o.jsx)(C,{})})]})]})};a.a.render(Object(o.jsx)(k,{}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.75090ee7.chunk.js.map